<?xml version="1.0"?>
<system name="instrumentation">
    <channel name="AOA">
	<pure_gain name="systems/instrument/aoa-unit">
	    <input>aero/alpha-deg</input>
	    <gain>2.7777777777</gain>
	    <clipto>
		<min>-15</min>
		<max>30</max>
	    </clipto>
	</pure_gain>
    </channel>

    <property value="0">systems/instrument/fuel/damage-rate</property>
    <property value="0">systems/instrument/fuel/gauge-damage</property>
    <property value="6">systems/instrument/fuel/tank-select</property>
    <property value="1">systems/instrument/fuel/power</property>
    <channel name="fuel gauge">

	<summer name="systems/instrument/fuel/main-lbs">
	    <input>propulsion/tank/contents-lbs</input>
	    <input>propulsion/tank[1]/contents-lbs</input>
	    <input>propulsion/tank[2]/contents-lbs</input>
	    <clipto>
		<min>0</min>
		<max>10000</max>
	    </clipto>
	</summer>

	<summer name="systems/instrument/fuel/wing-lbs">
	    <input>propulsion/tank[3]/contents-lbs</input>
	    <input>propulsion/tank[4]/contents-lbs</input>
	    <input>propulsion/tank[5]/contents-lbs</input>
	    <input>propulsion/tank[6]/contents-lbs</input>
	    <input>propulsion/tank[7]/contents-lbs</input>
	    <clipto>
		<min>0</min>
		<max>10000</max>
	    </clipto>
	</summer>

	<summer name="systems/instrument/fuel/total-lbs">
	    <input>propulsion/tank/contents-lbs</input>
	    <input>propulsion/tank[1]/contents-lbs</input>
	    <input>propulsion/tank[2]/contents-lbs</input>
	    <input>propulsion/tank[3]/contents-lbs</input>
	    <input>propulsion/tank[4]/contents-lbs</input>
	    <input>propulsion/tank[5]/contents-lbs</input>
	    <input>propulsion/tank[6]/contents-lbs</input>
	    <input>propulsion/tank[7]/contents-lbs</input>
	    <input>propulsion/tank[8]/contents-lbs</input>
	    <input>propulsion/tank[9]/contents-lbs</input>
	    <input>propulsion/tank[10]/contents-lbs</input>
	    <input>propulsion/tank[11]/contents-lbs</input>
	    <input>propulsion/tank[12]/contents-lbs</input>
	</summer>
	
	<!-- 1: R outbrd 2: R inbrf 3: L inbrd 4: L outbrd
	     5: CTR 6: WING 7: MAIN -->
	<switch name="systems/instrument/fuel/select-lbs">
	    <default value="0"/>
	    <test value="propulsion/tank[7]/contents-lbs">
		systems/instrument/fuel/tank-select eq 1
	    </test>
	    <test value="propulsion/tank[5]/contents-lbs">
		systems/instrument/fuel/tank-select eq 2
	    </test>
	    <test value="propulsion/tank[4]/contents-lbs">
		systems/instrument/fuel/tank-select eq 3
	    </test>
	    <test value="propulsion/tank[5]/contents-lbs">
		systems/instrument/fuel/tank-select eq 4
	    </test>
	    <test value="propulsion/tank[3]/contents-lbs">
		systems/instrument/fuel/tank-select eq 5
	    </test>
	    <test value="systems/instrument/fuel/wing-lbs">
		systems/instrument/fuel/tank-select eq 6
	    </test>
	    <test value="systems/instrument/fuel/main-lbs">
		systems/instrument/fuel/tank-select eq 7
	    </test>
	</switch>

	<switch name="systems/instrument/fuel/damage-cmd">
	    <default value="0"/>
	    <test value="1" logic="AND">
		systems/instrument/fuel/tank-select eq 0
		systems/instrument/fuel/power ne 1
	    </test>
	</switch>

	<actuator name="systems/instrument/fuel/select-damage">
	    <input>systems/instrument/fuel/damage-cmd</input>
	    <rate_limit>systems/instrument/fuel/damage-rate</rate_limit>				
	</actuator>

	<switch name="systems/instrument/fuel/select-rate">
	    <default value="3000"/>
	    <test value="0" logic="OR">
		systems/instrument/fuel/select-damage eq 1
		systems/instrument/fuel/gauge-damage eq 1
	    </test>
	</switch>

	<switch name="systems/instrument/fuel/gauge-rate">
	    <default value="3000"/>
	    <test value="0" logic="AND">
		systems/instrument/fuel/gauge-damage eq 1
		systems/instrument/fuel/power eq 0
	    </test>
	</switch>
	
	<actuator name="systems/instrument/fuel/select-indicated">
	    <input>systems/instrument/fuel/select-lbs</input>
	    <rate_limit>systems/instrument/fuel/select-rate</rate_limit>
	</actuator>

	<actuator name="systems/instrument/fuel/main-indicated">
	    <input>systems/instrument/fuel/main-lbs</input>
	    <rate_limit>systems/instrument/fuel/gauge-rate</rate_limit>
	</actuator>

	<actuator name="systems/instrument/fuel/total-indicated">
	    <input>systems/instrument/fuel/total-lbs</input>
	    <rate_limit>systems/instrument/fuel/gauge-rate</rate_limit>
	    <output>systems/instrument/fuel/total-indicated-debug</output>
	</actuator>
	
    </channel>
</system>
